(this["webpackJsonptest-task-sycret"]=this["webpackJsonptest-task-sycret"]||[]).push([[0],{63:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(0),a=c.n(s),i=c(14),r=c.n(i),l=c(33),d=c(9),o=function(e){var t=e.index,c=e.size,s=e.start,a=e.news;return Object(n.jsx)(d.b,{to:{pathname:"/news/".concat(t),state:{data:a,index:t}},className:"d-block list-item px-2 pb-2 list-item-border",style:{height:"".concat(c,"px"),transform:"translateY(".concat(s,"px)")},children:Object(n.jsxs)("div",{className:"media hide-overflow",children:[Object(n.jsx)("div",{className:"col-5 col-md-3 p-0",children:Object(n.jsx)("img",{className:"d-flex align-self-start mr-3 w-100 h-100 py-2",src:a.urlToImage,alt:""})}),Object(n.jsx)("div",{className:"col p-0 pl-2",children:Object(n.jsxs)("div",{className:"media-body",children:[Object(n.jsx)("h5",{className:"mt-0",children:a.title}),Object(n.jsx)("p",{className:"d-none d-md-block",children:a.description})]})})]})})},j=c(16),b=c(13),u=c(35),h=c(32),x=c.n(h).a.create({baseURL:"https://newsapi.org/v2/",proxy:{host:"46.29.116.6",port:"4145"}});console.log("test");var O="ADD_NEWS",m={news:{},listSize:Math.ceil(window.innerHeight/150),newsItemSize:150},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var c=Math.max.apply(Math,Object(u.a)(Object.keys(t.payload).map((function(e){return++e}))));return Object(b.a)(Object(b.a)({},e),{},{news:Object(b.a)(Object(b.a)({},e.news),t.payload),listSize:c>e.listSize?c:e.listSize});default:return e}},f=c(3),w={getNews:function(e){return function(t){var c;(c=1,x.get("top-headlines?country=ru&apiKey=".concat("a072a71ffdf745449e81cc972606db86","&page=").concat(c,"&pageSize=").concat(20))).then((function(c){var n=c.data.articles.reduce((function(t,c,n){return t[e+n]=c,t}),{});t(function(e){return{type:O,payload:e}}(n))}))}}},v=Object(j.b)((function(e){return{news:e.news,listSize:e.listSize,itemSize:e.newsItemSize,selectedIndex:e.selectedIndex}}),w)((function(e){var t=e.news,c=e.listSize,a=e.itemSize,i=e.getNews,r=Object(s.useRef)(),d=Object(f.g)().state,j=Object(l.a)({size:c+1,parentRef:r,estimateSize:Object(s.useCallback)((function(){return a}),[a])}),b=j.virtualItems[j.virtualItems.length-1].index,u=j.virtualItems[0].index;return Object(s.useEffect)((function(){for(var e=u;e<=b;e++)if(!t[e]){i(e);break}}),[t,i,u]),Object(s.useEffect)((function(){d&&d.index&&j.scrollToIndex(d.index)}),[d]),Object(n.jsx)("div",{ref:r,className:"row list-wrapper",children:Object(n.jsx)("div",{className:"list",style:{height:"".concat(j.totalSize,"px")},children:j.virtualItems.map((function(e){var c=e.index,s=e.size,a=e.start;return t[c]?Object(n.jsx)(o,{index:c,size:s,start:a,news:t[c]},c):null}))})})})),g=(c(63),function(){var e=Object(f.g)().state;return Object(n.jsxs)("div",{className:"row py-2",children:[Object(n.jsx)("div",{className:"col-12 col-md-4",children:Object(n.jsx)("img",{className:"mh-100 mw-100",src:e.data.urlToImage,alt:""})}),Object(n.jsx)("h2",{className:"col d-flex justify-content-center align-items-center",children:e.data.title}),Object(n.jsxs)("div",{className:"col-12 ml-2",children:[Object(n.jsx)("p",{children:e.data.description}),Object(n.jsxs)("p",{children:["\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a: ",Object(n.jsx)("a",{href:e.data.url,children:e.data.url})]}),Object(n.jsx)(d.b,{to:{pathname:"/news",state:{index:e.index}},children:Object(n.jsx)("button",{className:"btn btn-outline-primary",children:"\u21b5 \u041d\u0430\u0437\u0430\u0434"})})]})]})}),N=function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)(f.d,{children:[Object(n.jsx)(f.b,{path:"/news",exact:!0,children:Object(n.jsx)(v,{})}),Object(n.jsx)(f.b,{path:"/news/:id",exact:!0,children:Object(n.jsx)(g,{})}),Object(n.jsx)(f.a,{to:"/news"})]})})},y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,65)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))},S=c(11),z=c(34),I=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.c,k=Object(S.d)(p,I(Object(S.a)(z.a)));r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(j.a,{store:k,children:Object(n.jsx)(d.a,{children:Object(n.jsx)(N,{})})})}),document.getElementById("root")),y()}},[[64,1,2]]]);
//# sourceMappingURL=main.5bbf6ef9.chunk.js.map